---
title: PHP代码审计相关
time: 2016.05.25 12:47:00
layout: post
tags:
- PHP
- 代码审计
- 安全
excerpt:  为了参加蓝盾杯，看了下seay写的PHP代码审计相关。这里稍微总结下。

---

## 配置相关
### register_globals（全局变量注册开关）
1. 打开状态下，其会直接把用户GET、POST等方式提交上来的参数注册成全局变量并初始化为参数对应的值，使得提交参数可以直接在脚本中使用。（PHP版本低于5.4.0才有）
	
	测试：
	图1
### allow_url_include（是否允许包含远程文件）
1. 在on的情况下，可以直接包含远程文件。（PHP版本5.20以后默认设置为off）
  
  图2
### magic_quotes_gpc（魔术引号自动过滤）
1. 只要它被开启，会自动在GET、POST、COOKIE变量中单引号（'）、双引号(")、反斜杠（\）及空字符（NULL）的前面加上反斜杠(\),但在PHP5中，其不会过滤$_SERVER变量，导致很多类似**client-ip、refer**一类的漏洞可以被利用。
2. 在PHP5.3以后不被推荐使用该选项，5.4后直接被取消
 图3
 
### magic_quotes_runtime(魔术引号自动过滤)
主要功能与magic_quotes_gpc类似，不过其与上面的区别是，其只对从数据库或者文件中获取的数据进行过滤，它的


----

