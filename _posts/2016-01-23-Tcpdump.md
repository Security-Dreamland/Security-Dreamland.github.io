---
title: Tcpdump学习
time: 2016.01.23 17:47:00
layout: post
tags:
- Security
- Tcpdump
excerpt: 主要介绍了网络嗅探攻击的具体原理及Tcpdump使用方法与示例。
    
---

##Tcpdump学习

---
###1.网络嗅探概念
网络嗅探是利用计算机的网络接口截获目的地址为其他计算机地址的数据报文的一种技术。它工作在网络的底层，会将网络传输的全部数据记录下来。---
### 网络嗅探的原理与实现
网络嗅探的底层技术原理依据所监听的网络类型的不同，也会有一定的不同。本文主要从最流行的有限局域网链路层协议－以太网为例。
- 以太网工作原理：
	1. 以太网是共享通信信道的，然后采用了载波侦听/冲突检测技术（Carrier Sense Multiple Access with Collision Detection，CSMA/CD）避免共享链路上的通信冲突。所以，在以太网的共享通信媒介中，网络上的站点使用在信道上的广播机制来发送自己的数据，这就意味着计算机能够接收到在共享媒介上发送给其他计算机的信息。
	2. 以太网中数据的传播是以“帧”为单位进行的，而以太网上的网络接口设备（Network Interface Controller，NIC），通常是网卡，都拥有一个48位的MAC地址，以太网帧头中包括发送源的MAC地址与目标MAC地址。当网络上的站点需要发送数据时，会通过协议栈进行应用数据TCP/IP封包，并在数据链路层“装配”上帧头与帧尾，发送到共享通信介质上。在网卡收到以太网共享媒介上传输的数据时，网卡驱动程序在正常模式设置下，只会接受目标MAC地址与网卡自身MAC地址相匹配的数据帧，或目标MAC地址为广播地址的广播帧，在网卡驱动程序认为应接收数据帧时，将产生中断信号通过CPU，由操作系统根据设置的网卡中断程序地址调用驱动程序接收数据，放入信号堆栈中让操作系统进行反向的拆包处理，并将解包后的数据交给相应的应用程序。
	3. 而网卡驱动程序往往支持一种混杂模式，处于该模式下的网卡能够接受一切通过它连接共享通信媒介的数据帧（无论该帧是否发送给此网卡）。因此，我们可以通过混杂模式的网卡来实现嗅探。
- 共享式网络与交换式网络中的嗅探
	1. 共享式网络主要适用集线器（Hub）连接

	