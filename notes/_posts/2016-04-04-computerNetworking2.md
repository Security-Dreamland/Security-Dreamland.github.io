---- 
layout: post
category: note
title: 计算机网络学习笔记2
subtitle: 计算机网络运输层学习
excerpt: 最近，一直忙着SIT的收尾工作，另外还得忙一个新项目－敏感信息收集相关的。因此，就一直没有时间静下来写点东西。正好，这周忙的差不多了。偷闲写些笔记。本次打算梳理下运输层相关的东西，主要是TCP与UDP的实现原理与具体细节分析———————正好一个科研项目也需要这一块的知识，fighting！：）
first\_time: 2016.04.27 15:31:00
time: 2016.04.28 16:13:09
tags:
- 计算机网络
- 运输层
- TCP／UDP

---- 

# 计算机网络运输层学习总结
运输层居于网络层之上，应用层之下。它主要为运行在**不同主机上的应用进程**之间提供逻辑通信。与之相对的网络层协议是为了**两台不同的主机之间**提供逻辑通信。
运输层主要有TCP与UDP协议，是在端系统中而不是在网络路由器中实现的。
主要有以下几个知识点：
1. 多路复用和多路分解
 2. UDP协议
 3. TCP协议
 4. TCP协议的可靠传输机制
 5. TCP协议的流量控制
 6. TCP协议的拥塞控制
 7. TCP协议的连接管理

---- 
## 1. 多路复用和多路分解
> 多路分解是将在运输层收到的报文段中的数据交付到正确的套接字的工作。
> 多路复用是从源主机的不同套解字中收集数据块，并为每个数据块封装上首部信息（这将在多路分解时使用）从而生成报文段，然后将报文段传递到网络层的工作。
- 复用：发送方不同的应用进程都可以使用同一个运输层协议传输数据
- 分用：接收方的运输层在剥去报文的首部后能把这些数据正确交付目的应用进程
### 1.2无连接的多路复用和多路分解
UDP是无连接的。一个UDP套接字是由一个包含目的IP地址和目的端口号的二元组来全面标识的。  
如果两个UDP报文段具有不同的源IP/端口号，但具有相同的目的IP/端口号，那么，这两报文段会被送至相同的目的进程。
所以，一个UDP的套接字使用的就是本地的IP和端口号进行标识。这样运输层中收到UDP报文段时，就会根据报文段中的目的IP/端口号向进程投递报文。
### 1.3面向连接的多路复用和多路分解
TCP是面向连接。一个TCP套接字是由一个四元组（源IP/端口号，目的IP/端口号）来标识的。  
这样当一个TCP报文段从网络到达一台主机时，主机使用全部四个值来将报文段定向（多路分解）到相应的套接字。
正是因为TCP是面向连接的，所以需要四个值来标识。不同客户机里面的不同进程都可以跟服务器的一个特定的服务进程建立各自的一条连接。而这每一条连接的两端的套接字都是以四个值进行标识的。  
服务器关注连接请求报文段里的这四个值，新创建的连接套接字通过四个值来标识。所有后续到达的报文段，如果它们这四个值都匹配，则被多路分解到这个套接字。
---- 
## 2.UDP协议
1. UDP协议仅在网络层协议的基础上增加了一点多路复用和多路分解服务以及差错检测功能。
2. UDP的特点：
	- 无连接，尽最大努力交付，面向报文，没有拥塞控制，支持一对一，一对多，多对一和多对多的交互通信，首部开销小
3. UDP报文结构
	![][image-1]


---- 
# 参考：
1. [\[http://www.zhuangjingyang.com/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%B1%82%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93.html]][1]
2. [http://zhenhua-lee.github.io/tech/network.html][2]
3. [http://blog.163.com/magicc\_love/blog/static/][3]

[1]:	https://zh.wikipedia.org/wiki/%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%8D%8F%E8%AE%AE
[2]:	http://biousco.github.io/2015/07/11/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E8%BF%90%E8%BE%93%E5%B1%82/
[3]:	http://cbsheng.github.io/2014/12/10/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0-%E8%BF%90%E8%BE%93%E5%B1%82/

[image-1]:	momomoxiaoxi.com/img/network/1.png